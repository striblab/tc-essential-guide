<div class="component component-group">
  <nav class="minor-navigation items-3">
    <ul class="cf">
      <li><a href="#" class="featured active">Featured</a></li>
      <li><a href="#" class="distance">Distance</a></li>
      <li><a href="#" class="map">Map</a></li>
    </ul>
  </nav>

  <ul class="groups-items">
    {{#each allItems as i @airtableId}}
      <li>
        <a href="{{ data.basePath }}/{{ i.filename }}">
          {{#if i.mainImage && i.mainImage[0] }}
            <img src="{{ i.mainImage[0].url }}" alt="Main image for '{{ i.title }}'">
          {{/if}}
          <span>{{ i.title || i.name }}</span>
        </a>
      </li>
    {{/each}}
  </ul>
</div>

<script>
export default {
  computed: {
    allItems: data => {
      let output = [];
      if (data.lists) {
        output = output.concat(data.lists);
      }
      if (data.items) {
        output = output.concat(data.items);
      }

      return output;
    }
  }
};
</script>
