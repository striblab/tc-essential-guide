<div class="component component-item">
  <article class="item item-{{ display }} {{ data.inView ? 'in-view' : '' }}" data-id="{{ data.id }}">
    <div class="intro-text">
      <h1 class="heading-alternate">
        <a href="{{ data.basePath }}/{{ data.filename }}">{{ data.name }}</a>
      </h1>

      {{#if data.distance && view === 'distance'}}
        <h1 class="near-me">{{ utils.round(data.distance, 1) }} mi</h1>
      {{/if}}

      <address>{{ data.address }}</address>
      <a href="#" class="directions">Directions</a>
    </div>

    {{#if data.mainImage && data.mainImage[0] && display !== 'map' }}
      <div class="item-image">
        <figure>
          <img src="{{ data.mainImage[0].url }}" alt="Main image for '{{ data.name }}'">
          <cite>{{ data.imageCredit}}</cite>
        </figure>
      </div>
    {{/if}}


    <p>{{{ data.description }}}</p>

    {{#if display !== 'map'}}
      <dl>
        <div class="phone"><dt>Phone </dt> <dd>{{ data.phone }}</dd></div>
        <dt>Website </dt> <dd><a href="{{ data.website }}<" target="_blank" rel="noopener">{{ data.website }}</a></dd>
      </dl>

      <div class="social-buttons">
        <a href="#" class="facebook-button"></a>
        <a href="#" class="twitter-button"></a>
        <a href="#" class="email-button"></a>
      </div>

      <div class="related">
        {{#if display === 'list' && data.lists}}
          <h3>Related</h3>
          {{#each data.lists as l @id}}
            <a href="{{ data.basePath }}/{{ l.filename }}">{{ l.title }}</a>
          {{/each}}
        {{/if}}
      </div>
    {{/if}}
  </article>
</div>

<script>
export default {
  data() {
    return {
      display: 'full',
      isBrowser: typeof window !== undefined
    };
  }
};
</script>
